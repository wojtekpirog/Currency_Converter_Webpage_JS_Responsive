{"version":3,"sources":["script.js"],"names":["amountInput","leftSelect","swapButton","rightSelect","convertButton","errorMessage","result","URL","getCurrencies","event","amount","parseFloat","value","fromCurrency","toCurrency","setAttribute","textContent","convert","swapCurrencies","leftCurrency","formatCurrency","fetch","concat","then","response","json","dataReady","data","Object","entries","rates","innerHTML","base","error","handleError","Math","round","toFixed","console","message","document","addEventListener","querySelector","forEach","currency"],"mappings":"AAAA,aAAA,IAAIA,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEEC,EAAM,yCAsCZ,IAAMC,EAAgB,SAACC,GACrB,IAAIC,EAASC,WAAWX,EAAYY,OAC9BC,EAAeZ,EAAWW,MAC1BE,EAAaX,EAAYS,MAE3BC,IAAiBC,GACnBT,EAAaU,aAAa,cAAe,SACzCV,EAAaW,YAAc,mCAClBN,GAAU,GACnBL,EAAaU,aAAa,cAAe,SACzCV,EAAaW,YAAc,qDAE3BX,EAAaU,aAAa,cAAe,QACzCV,EAAaW,YAAc,GAC3BC,EAAQP,EAAQG,EAAcC,GAElC,EAEMI,EAAiB,SAACT,GAEtB,IAAMU,EAAelB,EAAWW,MAEhCX,EAAWW,MAAQT,EAAYS,MAE/BT,EAAYS,MAAQO,CACtB,EAEMF,EAAU,SAACP,EAAQG,EAAcC,GACrCJ,EAASU,EAAeV,GAExBW,MAAK,6CAAAC,OAA8CZ,EAAM,UAAAY,OAAST,EAAY,QAAAS,OAAOR,IAClFS,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,IAClCF,MAAK,SAACG,GACL,IAAMC,EAAOC,OAAOC,QAAQH,EAAUI,OAAO,GAE7CxB,EAAOS,aAAa,cAAe,SACnCT,EAAOyB,UAAS,GAAAT,OAAMZ,EAAS,IAAMgB,EAAUM,KAAI,OAAAV,OAAMF,EAAeO,EAAK,IAAM,IAAMA,EAAK,GAChG,IAAE,OACK,SAACM,GAAK,OAAKC,EAAYD,EAAM,GACxC,EAEMb,EAAiB,SAACV,GACtB,OAAQyB,KAAKC,MAAe,IAAT1B,GAAgB,KAAK2B,QAAQ,EAClD,EAEMH,EAAc,SAACD,GACnB5B,EAAaU,aAAa,cAAe,SACzCV,EAAaW,YAAc,qFAC3BsB,QAAQL,MAAK,iDAAAX,OAAkDW,EAAMM,QAAO,KAC9E,EAEAC,SAASC,iBAAiB,oBAvF1B,WAOEzC,EAAcwC,SAASE,cAAc,oBACrCzC,EAAauC,SAASE,cAAc,2BACpCxC,EAAasC,SAASE,cAAc,0BACpCvC,EAAcqC,SAASE,cAAc,yBACrCtC,EAAgBoC,SAASE,cAAc,6BACvCrC,EAAemC,SAASE,cAAc,oBACtCpC,EAASkC,SAASE,cAAc,qBAIhCtC,EAAcqC,iBAAiB,QAASjC,GACxCN,EAAWuC,iBAAiB,QAASvB,GAIrCG,MAAMd,GACHgB,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,IAClCF,MAAK,SAACG,GACLE,OAAOC,QAAQH,GAAWiB,SAAQ,SAACC,GACjC3C,EAAW8B,WAAS,kDAAAT,OAAsDsB,EAAS,GAAE,MAAAtB,OAAKsB,EAAS,GAAE,MAAAtB,OAAKsB,EAAS,GAAE,cACrHzC,EAAY4B,WAAS,kDAAAT,OAAsDsB,EAAS,GAAE,MAAAtB,OAAKsB,EAAS,GAAE,MAAAtB,OAAKsB,EAAS,GAAE,aACxH,IAEA3C,EAAWW,MAAQ,MACnBT,EAAYS,MAAQ,KACtB,IAAE,OACK,SAACqB,GAAK,OAAKC,EAAYD,EAAM,GA7BxC","file":"script.min.js","sourcesContent":["let amountInput;\r\nlet leftSelect;\r\nlet swapButton;\r\nlet rightSelect;\r\nlet convertButton;\r\nlet errorMessage;\r\nlet result;\r\n\r\nconst URL = \"https://api.frankfurter.app/currencies\";\r\n\r\nfunction main() {\r\n  getElements();\r\n  addListeners();\r\n  renderLists();\r\n};\r\n\r\nfunction getElements() {\r\n  amountInput = document.querySelector(\".app__body-input\");\r\n  leftSelect = document.querySelector(\".app__body-select--from\");\r\n  swapButton = document.querySelector(\".app__body-swap-button\");\r\n  rightSelect = document.querySelector(\".app__body-select--to\");\r\n  convertButton = document.querySelector(\".app__body-convert-button\");\r\n  errorMessage = document.querySelector(\".app__body-error\");\r\n  result = document.querySelector(\".app__body-result\");\r\n};\r\n\r\nfunction addListeners() {\r\n  convertButton.addEventListener(\"click\", getCurrencies);\r\n  swapButton.addEventListener(\"click\", swapCurrencies);\r\n};\r\n\r\nfunction renderLists() {\r\n  fetch(URL)\r\n    .then((response) => response.json())\r\n    .then((dataReady) => {\r\n      Object.entries(dataReady).forEach((currency) => {\r\n        leftSelect.innerHTML += `<option class=\"app__body-select-option\" value=\"${currency[0]}\">${currency[1]} (${currency[0]})</option>`;\r\n        rightSelect.innerHTML += `<option class=\"app__body-select-option\" value=\"${currency[0]}\">${currency[1]} (${currency[0]})</option>`;\r\n      });\r\n\r\n      leftSelect.value = \"USD\";\r\n      rightSelect.value = \"EUR\";\r\n    })\r\n    .catch((error) => handleError(error));\r\n}\r\n\r\nconst getCurrencies = (event) => {\r\n  let amount = parseFloat(amountInput.value);\r\n  const fromCurrency = leftSelect.value;\r\n  const toCurrency = rightSelect.value;\r\n\r\n  if (fromCurrency === toCurrency) {\r\n    errorMessage.setAttribute(\"aria-hidden\", \"false\");\r\n    errorMessage.textContent = \"Currencies should be different.\";\r\n  } else if (amount <= 0) {\r\n    errorMessage.setAttribute(\"aria-hidden\", \"false\");\r\n    errorMessage.textContent = \"The value specified should be greater than zero.\";\r\n  } else {\r\n    errorMessage.setAttribute(\"aria-hidden\", \"true\");\r\n    errorMessage.textContent = \"\";\r\n    convert(amount, fromCurrency, toCurrency);\r\n  }\r\n}\r\n\r\nconst swapCurrencies = (event) => {\r\n  // Get the value of the currency selected in the left dropdown list:\r\n  const leftCurrency = leftSelect.value;\r\n  // Set the value of the currency selected in the left dropdown list to the right one:\r\n  leftSelect.value = rightSelect.value;\r\n  // Set the value of the currency selected in the right dropdown list to the left one:\r\n  rightSelect.value = leftCurrency;\r\n}\r\n\r\nconst convert = (amount, fromCurrency, toCurrency) => {\r\n  amount = formatCurrency(amount); // Ensure that the amount is formatted correctly\r\n\r\n  fetch(`https://api.frankfurter.app/latest?amount=${amount}&from=${fromCurrency}&to=${toCurrency}`)\r\n    .then((response) => response.json())\r\n    .then((dataReady) => {\r\n      const data = Object.entries(dataReady.rates)[0];\r\n\r\n      result.setAttribute(\"aria-hidden\", \"false\");\r\n      result.innerHTML = `${amount + \" \" + dataReady.base} = ${formatCurrency(data[1]) + \" \" + data[0]}`;\r\n    })\r\n    .catch((error) => handleError(error));\r\n}\r\n\r\nconst formatCurrency = (amount) => {\r\n  return (Math.round(amount * 100) / 100).toFixed(2);\r\n}\r\n\r\nconst handleError = (error) => {\r\n  errorMessage.setAttribute(\"aria-hidden\", \"false\");\r\n  errorMessage.textContent = \"We're sorry, an error has occured while fetching the data. Please try again later.\";\r\n  console.error(`An error has occured while fetching the data: ${error.message}.`);\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", main);"]}